(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabbar-objective-objective"],{1039:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".fixed-container[data-v-70d343e6]{position:fixed; /* 固定定位 */top:0; /* 定位到页面顶部 */left:0;width:100%; /* 容器宽度为100% */z-index:999; /* 确保它在页面其他内容之上 */background-color:#fad791}.nav-bar[data-v-70d343e6]{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#fad791}.title[data-v-70d343e6]{font-size:%?30?%;font-weight:700;text-align:center}.nav-icon[data-v-70d343e6]{display:flex;align-items:center;justify-content:flex-end}uni-canvas[data-v-70d343e6]{width:100%;height:%?300?%;background-color:#fad791;border-radius:%?50?%;box-shadow:inset 0 0 20px rgba(0,0,0,.2) /* 内部阴影 */}.button-container[data-v-70d343e6]{display:flex;justify-content:center; /* 水平居中 */align-items:center; /* 垂直居中 */background-color:#fad791;height:55px}.content-container[data-v-70d343e6]{margin-top:%?505?% /* 留出足够空间，避免内容被遮挡，根据实际高度调整 */}.container[data-v-70d343e6]{display:flex;flex-wrap:wrap;justify-content:space-around;padding:10px 0}.card[data-v-70d343e6]{display:flex;flex-direction:column;align-items:center;width:48%; /* 两列布局 */margin-bottom:10px;background-color:#fff;border-radius:8px;overflow:hidden}.card-image[data-v-70d343e6]{width:100%; /* 图片宽度自适应 */height:125px /* 固定图片高度 */}.card-text[data-v-70d343e6]{margin:10px}uni-button[data-v-70d343e6]{margin:0 10px /* 为按钮添加一些外边距 */}",""]),t.exports=e},"1c05":function(t,e,a){"use strict";a.r(e);var n=a("b557"),i=a("c482");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("bb87");var r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"70d343e6",null,!1,n["a"],void 0);e["default"]=c.exports},b557:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={tnIcon:a("2dde").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"fixed-container"},[a("v-uni-view",{staticClass:"nav-bar"},[a("v-uni-view",{staticClass:"title"},[t._v("Star Language Star Wish")]),a("v-uni-view",{staticClass:"nav-icon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSettingsClick.apply(void 0,arguments)}}},[a("tn-icon",{attrs:{icon:"set",size:"lg"}})],1)],1),a("v-uni-canvas",{attrs:{"canvas-id":"myCanvas"}}),a("v-uni-view",{staticClass:"button-container"},[a("v-uni-button",{staticStyle:{"background-color":"#FAD791","border-radius":"50%",border:"2rpx solid dimgray"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearCanvas.apply(void 0,arguments)}}},[a("tn-icon",{attrs:{icon:"delete"}})],1),a("v-uni-button",{staticStyle:{"background-color":"#FAD791",width:"300rpx","border-radius":"50rpx",border:"2rpx solid dimgray"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startPlayingAudios()}}},[a("tn-icon",{attrs:{icon:"video-fill",size:"lg"}})],1)],1)],1),a("v-uni-view",{staticClass:"content-container"},[a("v-uni-view",{staticClass:"container"},t._l(t.images,(function(e,n){return a("v-uni-view",{key:n,staticClass:"card",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.onCardClick(e)}}},[a("v-uni-image",{staticClass:"card-image",attrs:{src:e.url}}),a("v-uni-text",{staticClass:"card-text"},[t._v(t._s(e.text))]),a("v-uni-audio",{attrs:{src:e.audio}})],1)})),1)],1)],1)},o=[]},b764:function(t,e,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("159b"),a("14d9"),a("a434");n(a("2dde"));var i={data:function(){return{images:[{url:"../../../static/objective/banana.jpg",text:"Banana",audio:"../../../static/objectaudio/banana.mp3"},{url:"../../../static/objective/orange.jpg",text:"Orange",audio:"../../../static/objectaudio/orange.mp3"},{url:"../../../static/objective/grape.jpg",text:"Grape",audio:"../../../static/objectaudio/grape.mp3"},{url:"../../../static/objective/pear.jpg",text:"Pear",audio:"../../../static/objectaudio/pear.mp3"},{url:"../../../static/objective/tomato.jpg",text:"Tomato",audio:"../../../static/objectaudio/tomato.mp3"}],nextImageX:20,nextImageY:20}},onShow:function(){this.redrawCanvas()},mounted:function(){var t=uni.getSystemInfoSync();this.screenWidth=t.windowWidth,this.redrawCanvas()},methods:{redrawCanvas:function(){var t=uni.createCanvasContext("myCanvas",this);t.clearRect(0,0,this.screenWidth,400),this.$selectedImages.forEach((function(e,a){var n=a%3*110+20,i=100*Math.floor(a/3)+20;t.drawImage(e.url,n,i,100,100)})),t.draw()},pushImage:function(t){this.$selectedImages.push(t),uni.setStorageSync("selectedImages",this.$selectedImages)},onCardClick:function(t){this.pushImage(t),this.drawSelectedImages(),this.playAudio(t.audio)},drawSelectedImages:function(){var t=uni.createCanvasContext("myCanvas",this);this.$selectedImages.forEach((function(e,a){var n=a%3*110+20,i=100*Math.floor(a/3)+20;t.drawImage(e.url,n,i,100,100)})),t.draw(!0)},drawSelectedText:function(){var t=uni.createCanvasContext("myCanvas",this);this.$selectedImages.forEach((function(e,a){var n=a%3*110+50,i=100*Math.floor(a/3)+130;t.fillText(e.text,n,i)})),t.draw(!0)},playAudio:function(t){var e=uni.createInnerAudioContext();e.src=t,e.play(),e.onPlay((function(){console.log("开始播放")})),e.onError((function(t){console.error("播放音频失败:",t.errMsg)}))},playAudioSequentially:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e<this.$selectedImages.length){var a=this.$selectedImages[e].audio;if(a){var n=uni.createInnerAudioContext();n.src=a,n.play(),n.onPlay((function(){console.log("开始播放:",a)})),n.onEnded((function(){console.log("音频播放结束:",a),t.playAudioSequentially(e+1)})),n.onError((function(a){console.error("播放音频失败:",a.errMsg),t.playAudioSequentially(e+1)}))}else this.playAudioSequentially(e+1)}else console.log("所有音频播放完毕")},startPlayingAudios:function(){this.playAudioSequentially(),this.drawSelectedText()},clearCanvas:function(){var t=uni.createCanvasContext("myCanvas",this);t.clearRect(0,0,this.screenWidth,400),t.draw(),this.$selectedImages.splice(0)}}};e.default=i},bb87:function(t,e,a){"use strict";var n=a("eff3"),i=a.n(n);i.a},c482:function(t,e,a){"use strict";a.r(e);var n=a("b764"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},eff3:function(t,e,a){var n=a("1039");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("564a0725",n,!0,{sourceMap:!1,shadowMode:!1})}}]);